{
  "copy-from-recipe": {
    "bin/": "%BIN_DIR%/",
    "config/": "%CONFIG_DIR%/",
    "src/": "%SRC_DIR%/",
    "public/": "%PUBLIC_DIR%/",
    "templates/": "templates/",
    ".docker/": ".docker/"
  },
  "env": {
    "APP_DEBUG": "true",
    "PIMCORE_DEV_MODE": "false"
  },
  "docker-compose": {
    "docker-compose.yml": {
      "services": [
        "redis:",
        "    image: redis:alpine",
        "    command: [ redis-server, --maxmemory 128mb, --maxmemory-policy volatile-lru, --save \"\" ]",
        "rabbitmq:",
        "    image: rabbitmq:alpine",
        "    volumes:",
        "        - pimcore-rabbitmq:/var/lib/rabbitmq/",
        "",
        "db:",
        "    image: mariadb:10.11",
        "    working_dir: /application",
        "    command: [ mysqld, --character-set-server=utf8mb4, --collation-server=utf8mb4_general_ci, --innodb-file-per-table=1 ]",
        "    volumes:",
        "        - pimcore-database:/var/lib/mysql",
        "    environment:",
        "        - MYSQL_ROOT_PASSWORD=ROOT",
        "        - MYSQL_DATABASE=pimcore",
        "        - MYSQL_USER=pimcore",
        "        - MYSQL_PASSWORD=pimcore",
        "    healthcheck:",
        "        # The service is considered healthy when:",
        "        # - connection to pimcore db can be established, and",
        "        # - we can run a simple SQL query.",
        "        test: [ \"CMD-SHELL\", \"mysql -h db -u$$MYSQL_USER -p$$MYSQL_PASSWORD $$MYSQL_DATABASE -e 'SHOW TABLES;'\" ]",
        "        interval: 10s",
        "        retries: 6",
        "        start_period: 1m",
        "        timeout: 3s",
        "",
        "nginx:",
        "    image: nginx:stable-alpine",
        "    ports:",
        "        - \"80:80\"",
        "    volumes:",
        "        - .:/var/www/html:ro",
        "        - ./.docker/nginx.conf:/etc/nginx/conf.d/default.conf:ro",
        "    depends_on:",
        "        - php",
        "",
        "php:",
        "    #user: '1000:1000' # set to your uid:gid",
        "    image: pimcore/pimcore:php8.3-debug-latest",
        "    environment:",
        "        COMPOSER_HOME: /var/www/html",
        "        PHP_IDE_CONFIG: serverName=localhost",
        "        # Feed installer configuration via ENV variables.",
        "        # See: https://pimcore.com/docs/pimcore/current/Development_Documentation/Getting_Started/Advanced_Installation_Topics.html#page_Advanced-Installation-Topics",
        "        PIMCORE_INSTALL_MYSQL_USERNAME: pimcore",
        "        PIMCORE_INSTALL_MYSQL_PASSWORD: pimcore",
        "        PIMCORE_INSTALL_MYSQL_PORT: 3306",
        "        PIMCORE_INSTALL_MYSQL_HOST_SOCKET: db",
        "        PIMCORE_INSTALL_MYSQL_DATABASE: pimcore",
        "    depends_on:",
        "        db:",
        "            condition: service_healthy",
        "    volumes:",
        "        - .:/var/www/html",
        "        - ./.docker/messenger.yaml:/var/www/html/config/packages/messenger.yaml:ro",
        "",
        "supervisord:",
        "    #user: '1000:1000' # set to your uid:gid",
        "    image: pimcore/pimcore:php8.3-supervisord-latest",
        "    depends_on:",
        "        rabbitmq:",
        "            condition: service_started",
        "        db:",
        "            condition: service_healthy",
        "    volumes:",
        "        - .:/var/www/html",
        "        - ./.docker/messenger.yaml:/var/www/html/config/packages/messenger.yaml:ro",
        "        - ./.docker/supervisord.conf:/etc/supervisor/conf.d/pimcore.conf:ro"
      ],
      "volumes": [
        "pimcore-database:",
        "pimcore-rabbitmq:"
      ]
    }
  },
  "composer-scripts": {
    "post-create-project-cmd": "Pimcore\\Composer::postCreateProject",
    "post-install-cmd": [
      "Pimcore\\Composer::postInstall",
      "@pimcore-scripts"
    ],
    "post-update-cmd": [
      "Pimcore\\Composer::postUpdate",
      "@pimcore-scripts"
    ],
    "pimcore-scripts": [
      "Pimcore\\Composer::clearCache",
      "Pimcore\\Composer::installAssets"
    ]
  },
  "gitignore": [
    "# remove the following ignores for your project",
    "/config/pimcore/constants.php",
    "",
    "# symfony default",
    "/.web-server-pid",
    "/config/pimcore/parameters.yml",
    "/build/",
    "/phpunit.xml",
    "/public/bundles/",
    "",
    "# local config",
    "/.env.local",
    "/.env.local.php",
    "/.env.*.local",
    "!/config/local",
    "/config/local/*",
    "!config/local/.gitkeep",
    "",
    "/var/*",
    "!/var/.gitkeep",
    "!/var/classes/",
    "/var/classes/DataObject",
    "",
    "!/var/config",
    "/var/config/system.yml",
    "/var/config/maintenance.php",
    "",
    "# project specific recommendations",
    "/var/config/tag-manager.php",
    "/var/config/reports.php",
    "",
    "/public/var/",
    "/public/sitemap*.xml",
    "",
    "# PHP-CS-Fixer",
    "/.php-cs-fixer.php",
    "/.php-cs-fixer.cache",
    "",
    "# composer",
    "/vendor/",
    "",
    "# PhpStorm / IDEA",
    ".idea",
    "# NetBeans",
    "project",
    "",
    "# temp",
    ".temp"
  ]
}